
ในส่วนนี้หนูได้เอา code ในการทำ project มา เป็นเรื่องของของการยกเลิก declared plan 
เริ่มจากการเขียน event listener ให้กับปุ่ม cancelBtn และเรียก Api แบบ delete แล้วก็มีจัดการ dialog ที่มีการยืนยัน และ update UI
โดยเริ่มจากการตรวจสอบก่อนว่า currentDeclaration มีข้อมูลมั้ย ถ้าไม่มี ก็ไม่ควรให้ยกเลิก เราต้องรับมือกับสถานะของข้อมูลก่อนจะให้ user ทำอะไรได้

และถ้า user ยืนยัน หนูจะเรียก cancelPlan(studentId) ซึ่งเป็น function ที่ยิง delete ไปที่ backend และ function นี้ก็ใช้รูปแบบเดียวกับ Api ตัวอื่นๆ 
แค่เปลี่ยนเป็นใช้ method : “DELETE” ทำให้หนูเริ่มเข้าใจรูปแบบของ RESTful API มากขึ้นว่า GET = อ่าน , POST = สร้าง , PUT = แก้ไข , DELETE = ลบหรือยกเลิก declared plan 
ซึ่งมันเป็นพื้นฐานที่ต้องใช้ในงานจริงทุกระบบ

ซึ่งหลังจากส่ง req ใน code ก็จะเริ่มจัดการผลลัพธ์จาก status code ของ backend ถ้า status เป็น 204 หรือ 200 คือการยกเลิกสำเร็จและจะแสดง dialog แจ้งว่ายกเลิกแล้ว 
พร้อมเคลียร์ currentDeclaration , เคลียร์ dropdown และเรียก updateDeclaredStatus() เพื่อให้ Ui เปลี่ยนจาก “Declared” กลับไปเป็น “Not Declared”

และได้เขียนดักในกรณีที่ res.status === 404 แสดงว่า user ไม่มีแผนที่จะยกเลิก เลยจะต้องแสดงข้อความว่าไม่เจอ declared plan และล้าง currentDeclaration
แต่ยังมีอีกกรณีนึงคือ 409 มันจะเกิดตอนที่ข้อมูลมีความขัดแย้ง เช่น แผนถูกยกเลิกไปแล้ว หรืออยู่ในสถานะที่ยกเลิกไม่ได้
หรือถ้ามีเกิดสถานะอื่น เช่น 500 จะใช้ “There is a problem. Please try again later.” เป็น default error handler 

ในคลาสนี้ไม่ได้มีเรียนอะไรในห้อง มีแค่อาจารย์ตรวจ code ที่ได้ทำมาใน project และนั่งแก้ cypress ในส่วนนี้รออาจารย์มาตรวจ
